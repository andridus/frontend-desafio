!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=18)}([function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return a}),n.d(t,"createElement",function(){return a}),n.d(t,"cloneElement",function(){return c}),n.d(t,"Component",function(){return z}),n.d(t,"render",function(){return P}),n.d(t,"rerender",function(){return d}),n.d(t,"options",function(){return r});var r={},o=[],i=[];function a(e,t){var n,a,s,l,c=i;for(l=arguments.length;l-- >2;)o.push(arguments[l]);for(t&&null!=t.children&&(o.length||o.push(t.children),delete t.children);o.length;)if((a=o.pop())&&void 0!==a.pop)for(l=a.length;l--;)o.push(a[l]);else"boolean"==typeof a&&(a=null),(s="function"!=typeof e)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(s=!1)),s&&n?c[c.length-1]+=a:c===i?c=[a]:c.push(a),n=s;var u=new function(){};return u.nodeName=e,u.children=c,u.attributes=null==t?void 0:t,u.key=null==t?void 0:t.key,void 0!==r.vnode&&r.vnode(u),u}function s(e,t){for(var n in t)e[n]=t[n];return e}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function c(e,t){return a(e.nodeName,s(s({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function f(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(r.debounceRendering||l)(d)}function d(){var e,t=p;for(p=[];e=t.pop();)e._dirty&&L(e)}function h(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function g(e){var t=s({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===u.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,_,a):e.removeEventListener(t,_,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function _(e){return this._listeners[e.type](r.event&&r.event(e)||e)}var b=[],y=0,w=!1,C=!1;function x(){for(var e;e=b.pop();)r.afterMount&&r.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,r,o,i){y++||(w=null!=o&&void 0!==o.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var a=k(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--y||(C=!1,i||x()),a}function k(e,t,n,r,o){var i=e,a=w;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),T(e,!0))),i.__preactattr_=!0,i;var s,l,c=t.nodeName;if("function"==typeof c)return function(e,t,n,r){var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,l=s,c=g(t);for(;o&&!l&&(o=o._parentComponent);)l=o.constructor===t.nodeName;o&&l&&(!r||o._component)?(E(o,c,3,n,r),e=o.base):(i&&!s&&(N(i),e=a=null),o=R(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),E(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,T(a,!1)));return e}(e,t,n,r);if(w="svg"===c||"foreignObject"!==c&&w,c=String(c),(!e||!h(e,c))&&(s=c,(l=w?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,i=l,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),T(e,!0)}var u=i.firstChild,p=i.__preactattr_,f=t.children;if(null==p){p=i.__preactattr_={};for(var d=i.attributes,_=d.length;_--;)p[d[_].name]=d[_].value}return!C&&f&&1===f.length&&"string"==typeof f[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=f[0]&&(u.nodeValue=f[0]):(f&&f.length||null!=u)&&function(e,t,n,r,o){var i,a,s,l,c,u=e.childNodes,p=[],f={},d=0,g=0,m=u.length,_=0,b=t?t.length:0;if(0!==m)for(var y=0;y<m;y++){var w=u[y],C=w.__preactattr_,x=b&&C?w._component?w._component.__key:C.key:null;null!=x?(d++,f[x]=w):(C||(void 0!==w.splitText?!o||w.nodeValue.trim():o))&&(p[_++]=w)}if(0!==b)for(var y=0;y<b;y++){l=t[y],c=null;var x=l.key;if(null!=x)d&&void 0!==f[x]&&(c=f[x],f[x]=void 0,d--);else if(!c&&g<_)for(i=g;i<_;i++)if(void 0!==p[i]&&(S=a=p[i],O=o,"string"==typeof(j=l)||"number"==typeof j?void 0!==S.splitText:"string"==typeof j.nodeName?!S._componentConstructor&&h(S,j.nodeName):O||S._componentConstructor===j.nodeName)){c=a,p[i]=void 0,i===_-1&&_--,i===g&&g++;break}c=k(c,l,n,r),s=u[y],c&&c!==e&&c!==s&&(null==s?e.appendChild(c):c===s.nextSibling?v(s):e.insertBefore(c,s))}var S,j,O;if(d)for(var y in f)void 0!==f[y]&&T(f[y],!1);for(;g<=_;)void 0!==(c=p[_--])&&T(c,!1)}(i,f,n,r,C||null!=p.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||m(e,r,n[r],n[r]=void 0,w);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||m(e,r,n[r],n[r]=t[r],w)}(i,t.attributes,p),w=a,i}function T(e,t){var n=e._component;n?N(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||v(e),j(e))}function j(e){for(e=e.lastChild;e;){var t=e.previousSibling;T(e,!0),e=t}}var O={};function R(e,t,n){var r,o=O[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),z.call(r,t,n)):((r=new z(t,n)).constructor=e,r.render=M),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function M(e,t,n){return this.constructor(e,n)}function E(e,t,n,o,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&e.base?f(e):L(e,1,i)),e.__ref&&e.__ref(e))}function L(e,t,n,o){if(!e._disable){var i,a,l,c=e.props,u=e.state,p=e.context,f=e.prevProps||c,d=e.prevState||u,h=e.prevContext||p,v=e.base,m=e.nextBase,_=v||m,w=e._component,C=!1;if(v&&(e.props=f,e.state=d,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,p)?C=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,p),e.props=c,e.state=u,e.context=p),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!C){i=e.render(c,u,p),e.getChildContext&&(p=s(s({},p),e.getChildContext()));var k,j,O=i&&i.nodeName;if("function"==typeof O){var M=g(i);(a=w)&&a.constructor===O&&M.key==a.__key?E(a,M,1,p,!1):(k=a,e._component=a=R(O,M,p),a.nextBase=a.nextBase||m,a._parentComponent=e,E(a,M,0,p,!1),L(a,1,n,!0)),j=a.base}else l=_,(k=w)&&(l=e._component=null),(_||1===t)&&(l&&(l._component=null),j=S(l,i,p,n||!v,_&&_.parentNode,!0));if(_&&j!==_&&a!==w){var z=_.parentNode;z&&j!==z&&(z.replaceChild(j,_),k||(_._component=null,T(_,!1)))}if(k&&N(k),e.base=j,j&&!o){for(var P=e,q=e;q=q._parentComponent;)(P=q).base=j;j._component=P,j._componentConstructor=P.constructor}}if(!v||n?b.unshift(e):C||(e.componentDidUpdate&&e.componentDidUpdate(f,d,h),r.afterUpdate&&r.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);y||o||x()}}function N(e){r.beforeUnmount&&r.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?N(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,v(t),function(e){var t=e.constructor.name;(O[t]||(O[t]=[])).push(e)}(e),j(t)),e.__ref&&e.__ref(null)}function z(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function P(e,t,n){return S(n,e,{},!1,t,!1)}s(z.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=s({},n)),s(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),f(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),L(this,2)},render:function(){}});var q={h:a,createElement:a,cloneElement:c,Component:z,render:P,rerender:d,options:r};t.default=q},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribers",function(){return f}),n.d(t,"getCurrentUrl",function(){return h}),n.d(t,"route",function(){return g}),n.d(t,"Router",function(){return C}),n.d(t,"Route",function(){return S}),n.d(t,"Link",function(){return x});var r=n(0),o={};function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function s(e,t){return e.index=t,e.rank=function(e){return e.attributes.default?0:(t=e.attributes.path,l(t).map(c).join(""));var t}(e),e.attributes}function l(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function c(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var u=null,p=[],f=[],d={};function h(){var e;return""+((e=u&&u.location?u.location:u&&u.getCurrentLocation?u.getCurrentLocation():"undefined"!=typeof location?location:d).pathname||"")+(e.search||"")}function g(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=p.length;t--;)if(p[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),u&&u[t]?u[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),v(e)}function v(e){for(var t=!1,n=0;n<p.length;n++)!0===p[n].routeTo(e)&&(t=!0);for(var r=f.length;r--;)f[r](e);return t}function m(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return g(t)}}function _(e){if(0==e.button)return m(e.currentTarget||e.target||this),b(e)}function b(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function y(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t,n=e.target;do{if("A"===String(n.nodeName).toUpperCase()&&n.getAttribute("href")&&(null!=(t=n).__preactattr_||"undefined"!=typeof Symbol&&null!=t[Symbol.for("preactattr")])){if(n.hasAttribute("native"))return;if(m(n))return b(e)}}while(n=n.parentNode)}}var w=!1;var C=function(e){function t(t){e.call(this,t),t.history&&(u=t.history),this.state={url:t.url||h()},w||("function"==typeof addEventListener&&(u||addEventListener("popstate",function(){v(h())}),addEventListener("click",y)),w=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){return this.getMatchingChildren(this.props.children,e,!1).length>0},t.prototype.routeTo=function(e){return this._didRoute=!1,this.setState({url:e}),this.updating?this.canRoute(e):(this.forceUpdate(),this._didRoute)},t.prototype.componentWillMount=function(){p.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;u&&(this.unlisten=u.listen(function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))})),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),p.splice(p.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(s).sort(a).map(function(e){var a=function(e,t,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,a=e.match(i),s={};if(a&&a[1])for(var c=a[1].split("&"),u=0;u<c.length;u++){var p=c[u].split("=");s[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}e=l(e.replace(i,"")),t=l(t||"");for(var f=Math.max(e.length,t.length),d=0;d<f;d++)if(t[d]&&":"===t[d].charAt(0)){var h=t[d].replace(/(^\:|[+*?]+$)/g,""),g=(t[d].match(/[+*?]+$/)||o)[0]||"",v=~g.indexOf("+"),m=~g.indexOf("*"),_=e[d]||"";if(!_&&!m&&(g.indexOf("?")<0||v)){r=!1;break}if(s[h]=decodeURIComponent(_),v||m){s[h]=e.slice(d).map(decodeURIComponent).join("/");break}}else if(t[d]!==e[d]){r=!1;break}return(!0===n.default||!1!==r)&&s}(t,e.attributes.path,e.attributes);if(a){if(!1!==n){var s={url:t,matches:a};return i(s,a),delete s.ref,delete s.key,Object(r.cloneElement)(e,s)}return e}}).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,r=e.onChange,o=t.url,i=this.getMatchingChildren(n,o,!0),a=i[0]||null;this._didRoute=!!a;var s=this.previousUrl;return o!==s&&(this.previousUrl=o,"function"==typeof r&&r({router:this,url:o,previous:s,active:i,current:a})),a},t}(r.Component),x=function(e){return Object(r.h)("a",i({onClick:_},e))},S=function(e){return Object(r.h)(e.component,e)};C.subscribers=f,C.getCurrentUrl=h,C.route=g,C.Router=C,C.Route=S,C.Link=x,t.default=C},function(e,t,n){"use strict";var r=n(12),o=n(11),i=n(10),a=n(6);function s(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function l(e,t,n){return c(t=s(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,o){t||(t=!0,e.callback(n,r,o))};function r(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,m)}function o(){if(!s){var t;clearTimeout(u),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=m,o=null;return 0!==t?(r={body:function(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c),v)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:f,headers:{},url:p,rawRequest:c},c.getAllResponseHeaders&&(r.headers=i(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,s,c=e.xhr||null;c||(c=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var u,p=c.url=e.uri||e.url,f=c.method=e.method||"GET",d=e.body||e.data,h=c.headers=e.headers||{},g=!!e.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:f,url:p,rawRequest:c};if("json"in e&&!1!==e.json&&(v=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(!0===e.json?d:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(o,0)},c.onload=o,c.onerror=r,c.onprogress=function(){},c.onabort=function(){s=!0},c.ontimeout=r,c.open(f,p,!g,e.username,e.password),g||(c.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(u=setTimeout(function(){if(!s){s=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),c.setRequestHeader)for(a in h)h.hasOwnProperty(a)&&c.setRequestHeader(a,h[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(d||null),c}e.exports=l,e.exports.default=l,l.XMLHttpRequest=r.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){l["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),c(n)}})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=n(0),i=n(2),a=(r=i)&&r.__esModule?r:{default:r};n(1);function s(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setState({loading:!1,filme_id:n.id,image_size:"200px",image_size_url:"w300_and_h450_bestv2"}),r.carrega_filme.bind(r),r.carrega_cast.bind(r),r.carrega_videos.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.carrega_filme(this.state.filme_id),this.on_window_width_change(window),window.subscriptions.screen.callback=function(t){e.on_window_width_change(t)},console.log("entrou"),window.subscriptions.search.callback(null)},t.prototype.on_window_width_change=function(e){if(e.innerWidth<550)this.setState({image_size:"100%",image_size_url:"w500_and_h282_face"});else{var t=document.querySelector(".container");if(t){var n=t.offsetWidth/190,r=Math.trunc(n),o=185+(n-r)/r*185;this.setState({image_size:o+"px",image_size_url:"w300_and_h450_bestv2"})}}},t.prototype.carrega_filme=function(e){var t=this;t.setState({loading:!0}),(0,a.default)({method:"get",uri:"https://api.themoviedb.org/3/movie/"+e+"?api_key=3bc186e4074d3467280a50b8b092de7c&language=pt-BR",headers:{"Content-Type":"application/json"}},function(n,r,o){if(200==r.statusCode){var i=JSON.parse(o);t.setState({r:i}),t.carrega_cast(e,i)}})},t.prototype.carrega_images=function(e,t){var n=this;n.setState({loading:!0}),(0,a.default)({method:"get",uri:"https://api.themoviedb.org/3/movie/"+e+"/images?api_key=3bc186e4074d3467280a50b8b092de7c",headers:{"Content-Type":"application/json"}},function(e,r,o){if(200==r.statusCode){var i=JSON.parse(o),a=i.backdrops.concat(i.posters);t.images=a.slice(0,19),console.log(t),n.setState({r:t})}})},t.prototype.carrega_cast=function(e,t){var n=this;n.setState({loading:!0}),(0,a.default)({method:"get",uri:"https://api.themoviedb.org/3/movie/"+e+"/credits?api_key=3bc186e4074d3467280a50b8b092de7c&language=pt-BR",headers:{"Content-Type":"application/json"}},function(r,o,i){if(n.setState({loading:!1}),200==o.statusCode){var a=JSON.parse(i);t.casting=a.cast.slice(0,8),t.crew=a.crew.filter(function(e){return"Director"==e.job||"Writer"==e.job}),console.log(t),n.setState({r:t}),n.carrega_videos(e,t)}})},t.prototype.carrega_videos=function(e,t){var n=this;n.setState({loading:!0}),(0,a.default)({method:"get",uri:"https://api.themoviedb.org/3/movie/"+e+"/videos?api_key=3bc186e4074d3467280a50b8b092de7c&language=pt-BR",headers:{"Content-Type":"application/json"}},function(r,o,i){if(n.setState({loading:!1}),200==o.statusCode){var a=JSON.parse(i);a.results.length>0&&(t.trailer=a.results[0]),n.setState({r:t}),n.carrega_images(e,t)}})},t.prototype.pega_ano=function(e){return new Date(e).getUTCFullYear()},t.prototype.close_viewer=function(e){console.log("here"),this.setState({viewing:null})},t.prototype.render=function(e,t){var n=this;s(t),s(e);var r=this.state.r;return(0,o.h)("div",null,(0,o.h)("div",{class:"movie-viewer"+(this.state.viewing?"":"-hide"),onClick:this.close_viewer.bind(this)},(0,o.h)("iframe",{class:"video-youtube",width:"560",height:"315",src:"https://www.youtube.com/embed/"+this.state.viewing,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:!0})),r&&(0,o.h)("div",null,(0,o.h)("div",{class:"container"},(0,o.h)("div",{class:"filme-panel"},(0,o.h)("div",{class:"container"},(0,o.h)("div",{class:"panel-content"},(0,o.h)("div",{class:"panel-poster"},(0,o.h)("img",{src:"https://image.tmdb.org/t/p/"+this.state.image_size_url+"/"+r.poster_path}),r.trailer&&(0,o.h)("div",{class:"button is-dark",onClick:function(e){n.setState({viewing:r.trailer.key})}},"Trailer")),(0,o.h)("h3",{class:"title is-size-3"},r.title," ",(0,o.h)("br",null),(0,o.h)("i",{class:"subtitle"},r.original_title," (",this.pega_ano(r.release_date),")")),(0,o.h)("b",null,"Sinopse"),(0,o.h)("p",{class:"subtitle is-size-5"},r.overview),(0,o.h)("p",null,(0,o.h)("b",null," Equipe Técnica"),(0,o.h)("ul",{class:"movie-crew"},r.crew&&r.crew.map(function(e){return(0,o.h)("li",null,(0,o.h)("b",null,e.name),(0,o.h)("br",null),(0,o.h)("i",null,e.job))})))),(0,o.h)("div",{class:"is-clearfix"})))),(0,o.h)("div",{class:"container",style:"padding: 15px"},(0,o.h)("div",{class:"columns"},(0,o.h)("div",{class:"column"},(0,o.h)("div",{class:"movie-cast"},(0,o.h)("b",null," Elenco"),(0,o.h)("ul",null,r.casting&&r.casting.map(function(e){return(0,o.h)("li",null,(0,o.h)("figure",{class:"image is-64x64"},(0,o.h)("img",{title:e.name,src:e.profile_path?"https://image.tmdb.org/t/p/w138_and_h175_face/"+e.profile_path:"/images/no_image.png"})),(0,o.h)("div",{class:"movie-character"},(0,o.h)("b",null,e.name),(0,o.h)("br",null),(0,o.h)("i",null,e.character)))})))),(0,o.h)("div",{class:"column"},(0,o.h)("ul",{class:"movie-images"},r.images&&r.images.map(function(e){return(0,o.h)("li",null,(0,o.h)("img",{src:"https://image.tmdb.org/t/p/w138_and_h175_face/"+e.file_path}))})))))),!r&&(0,o.h)("div",null,(0,o.h)("h3",{class:"subtitle is-size-4 has-text-centered"},"Aguarde...")))},t}(o.Component);t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=n(0),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(1);function l(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setState({r:[],p:1,loading:!1,image_size:"200px",image_size_url:"w185_and_h278_bestv2"}),r.recarrega_itens.bind(r),r.on_window_width_change.bind(r),r.get_approximately_start_rows.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=this;this.on_window_width_change(window),window.subscriptions.screen.callback=function(t){e.on_window_width_change(t)},window.subscriptions.scroll.callback=function(n,r){var o=document.querySelector(".item-da-lista");if(o){var i=o.offsetHeight,a=r.documentElement.offsetHeight-n.innerHeight;n.scrollY>a-2*i&&e.recarrega_itens(t.state.p+1)}},this.get_approximately_start_rows()},t.prototype.get_approximately_start_rows=function(){var e=this,t=Math.ceil(window.innerHeight/278),n=Math.trunc(window.innerWidth/205),r=n*t;console.log(t,n,r),r>20?this.recarrega_itens(1,function(){setTimeout(function(){e.recarrega_itens(2)},500)}):this.recarrega_itens(1)},t.prototype.on_window_width_change=function(e){if(e.innerWidth<500)this.setState({image_size:"100%",image_size_url:"w500_and_h282_face"});else{var t=document.querySelector(".container");if(t){var n=t.offsetWidth/190,r=Math.trunc(n),o=185+(n-r)/r*185;this.setState({image_size:o+"px",image_size_url:"w185_and_h278_bestv2"})}}},t.prototype.recarrega_itens=function(e,t){var n=this,r=this.state.loading,o=this.state.lastLoading||(new Date).getTime()-500,i=(new Date).getTime();if(!r&&i-o>=500){var s=(new Date).getTime();this.setState({loading:!0,lastLoading:s}),(0,a.default)({method:"get",uri:"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=3bc186e4074d3467280a50b8b092de7c&language=pt-BR&page="+e,headers:{"Content-Type":"application/json"}},function(r,o,i){var a=(new Date).getTime();if(n.setState({loading:!1,lastLoading:a}),200==o.statusCode){var s=JSON.parse(i),l=n.state.r.concat(s.results);n.setState({r:l,p:e+1}),t&&t()}})}},t.prototype.render=function(e,t){l(t),l(e);var n=this;return(0,o.h)("div",null,(0,o.h)("h3",{class:"subtitle is-size-4 has-text-centered"},"Mais populares"),(0,o.h)("ul",{class:"lista-de-filmes"},this.state.r&&this.state.r.map(function(e){return(0,o.h)("li",{class:"item-da-lista"},(0,o.h)("figure",{class:"image",style:"width: "+n.state.image_size},(0,o.h)("img",{src:"https://image.tmdb.org/t/p/"+n.state.image_size_url+e.poster_path,style:"width: "+n.state.image_size}),(0,o.h)("div",{class:"filme-conteudo"},(0,o.h)("b",{class:"title is-6"},e.title),(0,o.h)("p",{class:"is-size-7 has-text-gray"},e.overview.substr(0,200),"..."),(0,o.h)("div",{class:"stars"},(0,o.h)("div",{class:"tag is-small is-warning "},(0,o.h)("i",{class:"fa fa-star",style:"margin-right: 5px;"}," "),e.popularity),(0,o.h)(s.Link,{href:"/movie/"+e.id,class:"button is-light is-small"},(0,o.h)("i",{class:"fa fa-star-alt",style:"margin-right:5px"}," ")," Detalhes")))))}),this.state.loading&&(0,o.h)("li",{class:"item-da-lista-loading",style:"width: "+n.state.image_size},(0,o.h)("div",{class:"loading-spinner1"},(0,o.h)("i",{class:"fa fa-spinner fa-spin"}),(0,o.h)("p",null,"Carregando mais itens")))))},t}(o.Component);t.default=c},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=r.call(e).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(s)return function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(i(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";var r=n(7),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===o.call(e)?function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a):"string"==typeof e?function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,a):function(e,t,n){for(var r in e)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a)}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){var r=n(9),o=n(8);e.exports=function(e){if(!e)return{};var t={};return o(r(e).split("\n"),function(e){var n,o=e.indexOf(":"),i=r(e.slice(0,o)).toLowerCase(),a=r(e.slice(o+1));void 0===t[i]?t[i]=a:(n=t[i],"[object Array]"===Object.prototype.toString.call(n)?t[i].push(a):t[i]=[t[i],a])}),t}},function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(3))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=n(0),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(1);function l(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setState({r:[],p:1,loading:!1,sort:"popularity",image_size:"200px",image_size_url:"w185_and_h278_bestv2",keywords:n.q}),r.recarrega_itens.bind(r),r.on_window_width_change.bind(r),r.get_approximately_start_rows.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({r:[],p:1,loading:!1,keywords:e.q}),this.recarrega_itens(1)},t.prototype.componentDidMount=function(){var e=this,t=this;this.on_window_width_change(window),window.subscriptions.search.callback=function(n){t.setState({r:[],keywords:n}),e.recarrega_itens(1)},window.subscriptions.screen.callback=function(t){e.on_window_width_change(t)},window.subscriptions.scroll.callback=function(n,r){var o=document.querySelector(".item-da-lista");if(o){var i=o.offsetHeight,a=r.documentElement.offsetHeight-n.innerHeight;n.scrollY>a-2*i&&e.recarrega_itens(t.state.p+1)}},this.get_approximately_start_rows()},t.prototype.get_approximately_start_rows=function(){var e=this,t=Math.ceil(window.innerHeight/278);Math.trunc(window.innerWidth/205)*t>20?this.recarrega_itens(1,function(){setTimeout(function(){e.recarrega_itens(2)},500)}):this.recarrega_itens(1)},t.prototype.on_window_width_change=function(e){if(e.innerWidth<500)this.setState({image_size:"100%",image_size_url:"w500_and_h282_face"});else{var t=document.querySelector(".container");if(t){var n=t.offsetWidth/190,r=Math.trunc(n),o=185+(n-r)/r*185;this.setState({image_size:o+"px",image_size_url:"w185_and_h278_bestv2"})}}},t.prototype.recarrega_itens=function(e,t,n){var r=this,o=this.state.loading,i=this.state.lastLoading||(new Date).getTime()-500,s=(new Date).getTime();if(!o&&s-i>=500){var l=(new Date).getTime();this.setState({loading:!0,lastLoading:l});var c=this.state.sort;switch(c){case"popularity":c="popularity.desc";break;case"votes":c="vote_average.desc&vote_count.gte=20";break;default:c="popularity.desc"}var u=this.state.keywords,p="https://api.themoviedb.org/3/discover/movie?sort_by="+c+"&api_key=3bc186e4074d3467280a50b8b092de7c&language=pt-BR&page="+e;u&&(p="https://api.themoviedb.org/3/search/movie?api_key=3bc186e4074d3467280a50b8b092de7c&language=pt-BR&query="+(u=encodeURI(u))+"&page="+e),(0,a.default)({method:"get",uri:p,headers:{"Content-Type":"application/json"}},function(n,o,i){var a=(new Date).getTime();if(r.setState({loading:!1,lastLoading:a}),200==o.statusCode){var s=JSON.parse(i),l=r.state.r.concat(s.results);r.setState({r:l,p:e+1}),t&&t()}})}},t.prototype.render=function(e,t){var n=this;l(t),l(e);var r=this;return(0,o.h)("div",{class:"container is-gapless"},(0,o.h)("div",{class:"title has-text-centered"},(0,o.h)("div",{class:"control has-icons-right",style:"width:150px; margin:auto;"},(0,o.h)("select",{class:"input",value:this.state.sort,onChange:function(e){n.setState({r:[],p:1,sort:e.target.value}),console.log(e),n.recarrega_itens(1,null)}},(0,o.h)("option",{value:"popularity"}," Popularidade"),(0,o.h)("option",{value:"votes"}," Pontuação")),(0,o.h)("span",{class:"el-icon icon is-right"},(0,o.h)("i",{class:"fas fa-arrow-down",style:"margin-top:-20px;margin-right:-15px;"})))),(0,o.h)("ul",{class:"lista-de-filmes"},this.state.r&&this.state.r.map(function(e){return(0,o.h)("li",{class:"item-da-lista"},(0,o.h)("figure",{class:"image",style:"width: "+r.state.image_size},(0,o.h)("img",{src:"https://image.tmdb.org/t/p/"+r.state.image_size_url+e.poster_path,style:"width: "+r.state.image_size}),(0,o.h)("div",{class:"movie-vote"},e.vote_average),(0,o.h)("div",{class:"filme-conteudo"},(0,o.h)("b",{class:"title is-6"},e.title),(0,o.h)("p",{class:"has-text-gray"},e.overview.substr(0,130),"..."),(0,o.h)("div",{class:"stars"},(0,o.h)("div",{class:"button is-small is-warning "},(0,o.h)("i",{class:"fa fa-star",style:"margin-right: 5px;"}," "),"Favoritar"),(0,o.h)("br",null),(0,o.h)(s.Link,{href:"/filme/"+e.id,class:"button is-light is-small"},(0,o.h)("i",{class:"fa fa-star-alt",style:"margin-right:5px"}," ")," ",(0,o.h)("u",null,"Detalhes"))))))}),this.state.loading&&(0,o.h)("li",{class:"item-da-lista-loading has-text-white",style:"width: "+r.state.image_size},(0,o.h)("div",{class:"loading-spinner1"},(0,o.h)("i",{class:"fa fa-spinner fa-spin"}),(0,o.h)("p",null,"Carregando filmes")))))},t}(o.Component);t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),o=n(1);var i=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.query?this.setState({query:decodeURI(e.query)}):this.setState({query:null})},t.prototype.render=function(){return(0,r.h)("div",null,(0,r.h)("div",{class:"top-bar"},(0,r.h)("nav",{class:"navbar is-warning",role:"navigation","aria-label":"main navigation"},(0,r.h)("div",{class:"container"},(0,r.h)("div",{class:"navbar-brand "},(0,r.h)(o.Link,{class:"navbar-item",href:"/"},(0,r.h)("img",{src:"/images/logo.png",alt:"Frontend-desafio"}),(0,r.h)("h1",{class:"is-size-5"},"WeLove",(0,r.h)("b",null,"Movies"))),(0,r.h)(o.Link,{href:"/favoritos",class:"navbar-item"},(0,r.h)("i",{class:"fa fa-star-alt",style:"margin-right:5px"}," ")," Favoritos")))),(0,r.h)("nav",{class:"navbar is-white",role:"navigation","aria-label":"main navigation"},(0,r.h)("div",{class:"container"},(0,r.h)("div",{class:"control el-control has-icons-right"},(0,r.h)("input",{class:"el-input",value:this.state.query,type:"text",placeholder:"Digite o nome do filme",onChange:function(e){(0,o.route)("/search?q="+encodeURI(e.target.value))}}),(0,r.h)("span",{class:"el-icon icon is-medium is-right"},(0,r.h)("i",{class:"fas fa-search"})))))),(0,r.h)("div",{class:"top-bar-fix"}))},t}(r.Component);t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),o=n(1),i=c(n(14)),a=c(n(13)),s=c(n(5)),l=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}window.subscriptions=window.subscriptions||{},window.subscriptions.screen=window.subscriptions.screen||{},window.subscriptions.scroll=window.subscriptions.scroll||{},window.subscriptions.search=window.subscriptions.search||{},window.subscriptions.screen.callback=function(e){},window.subscriptions.scroll.callback=function(e,t){},window.subscriptions.search.callback=function(e){};var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.handleRoute=function(e){r.currentUrl=e.url,"/search?q="==e.url.substr(0,10)?r.setState({query:e.url.substr(10)}):r.setState({query:null}),console.log(r.state)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(e){window.onresize=function(){window.subscriptions.screen.callback(window)},window.onscroll=function(){window.subscriptions.scroll.callback(window,document)}},t.prototype.render=function(){return(0,r.h)("div",{id:"app"},(0,r.h)(i.default,{query:this.state.query}),(0,r.h)("div",{class:"page"},(0,r.h)(o.Router,{onChange:this.handleRoute},(0,r.h)(a.default,{path:"/"}),(0,r.h)(a.default,{path:"/search"}),(0,r.h)(s.default,{path:"/favoritos"}),(0,r.h)(l.default,{path:"/filme/:id"}))))},t}(r.Component);t.default=p},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(e){var t=n(0);n(17),n(16),console.log(e),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("SW registered: ",e)}).catch(function(e){console.log("SW registration failed: ",e)})}),window.onload=function(){var e;e=n(15).default,(0,t.render)((0,t.h)(e,null),document.body,document.body.lastChild)}}).call(this,n(3))}]);
//# sourceMappingURL=c1bb8781b3226ce04374-bundle.js.map